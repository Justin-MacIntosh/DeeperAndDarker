## Build configuration for Electron Builder
appId: com.planet-cracker.app
compression: maximum
productName: Planet Cracker
files:
  ## Files to exclude from Planet Cracker codebase
  - '!src/*'
  - "!scripts/"
  - '!electron.vite.config.{js,ts,mjs,cjs}'
  - '!{tsconfig.json,tsconfig.node.json,tsconfig.web.json}'
  ## Exclude all node_modules except production dependencies
  - '!node_modules/'  # WARN: excludes all node_modules, remove to include some
  - '!node_modules/.bin'
  - "!node_modules/**/test/**"
  - "!node_modules/**/tests/**"
  - "!node_modules/**/__tests__/**"
  ## File types to exclude
  - '!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj,map,ts,md,npmrc,env}'
  - '!**/*{.env.*,pnpm-lock.yaml}'
  ## Common files and folders to exclude
  - '!**/.vscode/*'
  - '!**/{npm-debug.log,yarn.lock,.yarn-integrity,.yarn-metadata.json}'
  - '!**/{.eslintignore,.eslintrc.cjs,.prettierignore,.prettierrc.yaml,dev-app-update.yml,README,readme}'

## Windows config
win:
  executableName: planetCracker
  target: nsis
nsis:
  artifactName: planetCracker-${version}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always

## Build hooks
afterPack: scripts/cleanup_build.js
## afterSign: build/notarize.js  # WARN: add back in to notarize
